import{W as v,iY as u,a9 as l,ah as o,dz as d,cX as w}from"./chunk-JaFSy54E.js";import{e as h,Y as f,_ as y}from"./chunk-D_yTKJJf.js";let n=class extends u{constructor(t){super(t)}initialize(){this.addHandles(l(()=>this.analysisViewData.visible,t=>this.visible=t,o))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set("created",!1)}};n=v([h("esri.views.interactive.AnalysisToolBase")],n);function D(t,e){t.interactive=!0;const{tool:i,view:s}=t;s.activeTool=i;let a=f(e,()=>{s.activeTool===i&&(s.activeTool=null)});return d(async r=>{await w(()=>i==null||!i.active,r),a=y(a)},e)}function b(t,e){return l(()=>t.interactive,()=>$(t,e),o)}function $(t,e){t.interactive?m(t,e):c(t)}function m(t,e){c(t);const{view:i,analysis:s}=t,a=new e({view:i,analysis:s,analysisViewData:t});return t.tool=a,i.tools.add(a),a}function c(t){const{view:e,tool:i}=t;i!=null&&(e.tools.remove(i),t.tool=null)}export{b as a,D as l,n as o,c as v};
