import{u as p,a as u,C as f,M as g,B as w,c as y,b as M,d as k}from"./chunk-4ztk2S2V.js";import"./chunk-C4bXDfxA.js";import{o as T,s as _}from"./chunk-aIpoUDE5.js";import"./chunk-D_yTKJJf.js";import{d as C,o as v,r as x}from"./chunk-DZT0J2Fy.js";const j=C({__name:"TestPoint",props:{point:{type:Object,required:!0}},setup(a){const i=a,r=p(),c=r[T],m=_(c);class h{constructor(e){this.clock=new f,this.radiansPerSecond=g.degToRad(30),this.point=e.point}setup(e){const o=new w(1e3,1e3,1e3),d=new y({color:16776960});this.mesh=new M(o,d),e.scene.add(this.mesh);const l=k(e.view,this.point);this.mesh.applyMatrix4(l)}animate(e){const o=this.clock.getDelta();this.mesh!==void 0&&(this.mesh.geometry.rotateY(this.radiansPerSecond*o),e.renderNode?.requestRender())}dispose(e){this.mesh&&(this.mesh.geometry.dispose(),e.scene.remove(this.mesh))}}const s=new h({point:i.point});u(r,s);const n=new m("click",t=>{t.feature&&t.feature.object===s.mesh&&(console.log("e.feature",t.feature),console.log("layer.mesh",s.mesh),window.alert("点击了立方体"))});return n.add(),v(()=>{n.remove()}),(t,e)=>x(t.$slots,"default")}});export{j as _};
